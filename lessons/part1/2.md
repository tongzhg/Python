# 第二章：CPU + 内存 + 输入输出设备

## （一）我们写程序的就是要告诉计算机一步一步怎么做，所以了解计算机工作结构和原理是有必要的

1. **计算机世界里所有东西都是数据**，比如文字📑，图片🏞️，视频📽️ ，程序等等。所以它们才都可以存到硬盘(或者U盘)里，才可以通过网络下载。

2. **计算机的工作就是处理数据**。硬盘保存数据，显示器显示数据，键盘用来录入数据，网卡传输数据，CPU处理数据。键盘是输入数据的设备所以叫输入设备，显示器是输出数据的设备叫输出设备。除了CPU和内存其它一切设备都属于输入输出设备（I/O设备，I代表input，O代表output）

3. 键盘是输入设备，输入到哪里呢？显示器是输出设备，从哪里输出呢？CPU处理哪里的数据呢？答案是**内存**。

![计算机结构图](https://github.com/tongzhg/Python/blob/master/images/Structure.png)

如上图，硬盘、网卡、键盘的数据都**必须进入到内存中**，CPU**才能**处理到。内存是一个中枢节点。

## （二） 理解内存是学习编程最关键的，所以下面就介绍一下内存：

![内存示意图](https://github.com/tongzhg/Python/blob/master/images/Memory.png)

如上图，内存为了CPU计算而加载数据的，我们通常说4G内存8G内存指的是内存的容量是4G**B**或8G**B**。这里的**B**是字节（Byte），可以把一个字节看成一个容器，能存0-255之间的数，如果更大的数就需要多个字节才能存储下。也可以把一个字节看成一个房间，内存就是有很多个房间组成的旅馆，每个字节都被编上了号，又叫地址（就是房间的门牌号，所以叫地址也挺贴切）


## （三）你已经了解了计算机的结构，下面看一个例子，看看计算机的工作过程：

假设你是一个体育老师🧘‍，你的E盘里有一个文件，里面是你的几个学生的数学考试成绩（比如说：30，40，20），你有一个程序可以算出**平均成绩**。那么这个程序（或者说计算机）是怎样实现的呢？大致是这样的：

### 第一步：CPU在内存中找到一个空闲区域

![找到一块空闲区域](https://github.com/tongzhg/Python/blob/master/images/Memory1.png)

如上图，找到了一个空闲区域：从1000号开始都空闲

### 第二步：CPU把这个空闲内存的地址和文件路径告诉硬盘**
也就是1000号地址和文件路径(E:\数学成绩.txt)告诉硬盘。硬盘就会把这个文件的内容放到1000号处（因为一个房间放不下，所以数据被放到了1000号、1001号、1002号）。是的，硬盘可以把数据放到内存中（当然还有一些软件配合），如下图：

![读入数据](https://github.com/tongzhg/Python/blob/master/images/Memory2.png)

### 第三步：CPU再找一块空闲的内存，把成绩的总和放到新的空闲内存中**
1003号就空闲，于是：
1. CPU把0放到1003号中；
2. CPU用**1000**号中的数据加上1003号中的数据，把结果（也就是30，30 + 0 = 30）放到1003号中；
3. CPU用**1001**号中的数据加上1003号中的数据，把结果（也就是70，40 + 30 = 70）放到1003号中；
4. CPU用**1002**号中的数据加上1003号中的数据，把结果（也就是90，20 + 70 = 90）放到1003号中；
如下图：

![求和](https://github.com/tongzhg/Python/blob/master/images/Memory3.png)

### 第四步：CPU再找一块空闲的内存，把成绩的个数（也即是3）放到里面
1004号就空闲，于是把3放到1004中，如下图：

![个数](https://github.com/tongzhg/Python/blob/master/images/Memory4.png)

### 第五步：CPU用1003号中的数据除以1004号中的数据，把结果放到1003号（或者1004、1000都可以）
如下图：

![最终结果](https://github.com/tongzhg/Python/blob/master/images/Memory5.png)

### 第六步：CPU命令显示器显示1003号内存中的数据
于是我们就看到了结果（也就是平均成绩）：30

**整个过程是**：
1. CPU命令硬盘数据调到内存中
2. 然后CPU在内存中一顿操作猛如虎
3. 最后CPU让显示器显示内存中的结算结果

从上面的例子可以看出，硬盘只是为了存储数据，显示器只不过是显示数据，而对内存中的数据的操作才是整个程序的核心工作，我们写程序很大一部分工作就是告诉CPU如何处理内存中的数据。

本章是这个教程中比较难的一章。为了有画面感，再打一个比方：

CPU就是厨师，内存就是一个大砧板，输入输出设备包括：菜篮子、面袋子、水壶、作料盒、锅、烤箱。厨师做面点的时候要把面从面袋子里倒到砧板上然后把水倒到面上，再砧板上和面并做成点心状，最后把面点放到烤箱里，整个过程都按照菜谱做。如下图：

![砧板](https://github.com/tongzhg/Python/blob/master/images/cook.jpg)


## 总结一下：

1. 为了能编程序，我们需要了解计算机的结构：CPU + 内存 + 其它设备(I/O设备)

2. 理解内存是学会编程序的关键：内存是系统中枢、有一个一个字节组成、每个自己都有一个地址(编号) 

3. 通过算学生平均成绩，了解了CPU、内存、IO设备在一起是如何工作的

（本章完）

[回目录](https://github.com/tongzhg/Python/blob/master/README.md)